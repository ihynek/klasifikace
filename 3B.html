<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hodnocen√≠ - T≈ô√≠da 3B (zabezpeƒçeno)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .login-box {
            max-width: 400px;
            margin: 0 auto;
        }
        
        .login-box.hidden {
            display: none;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }
        
        .search-input, .pin-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .search-input:focus, .pin-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .pin-input {
            letter-spacing: 5px;
            text-align: center;
            font-weight: bold;
        }
        
        .btn-verify {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-verify:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-verify:active {
            transform: translateY(0);
        }
        
        .error-message {
            color: #dc3545;
            text-align: center;
            margin-top: 15px;
            font-weight: 600;
            display: none;
        }
        
        .error-message.show {
            display: block;
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .results {
            display: none;
        }
        
        .results.show {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .student-name {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }
        
        .grade-section {
            margin-bottom: 25px;
        }
        
        .section-title {
            font-size: 1.3em;
            color: #667eea;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        .grades-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .grade-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e9ecef;
        }
        
        .grade-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }
        
        .grade-value {
            font-size: 1.4em;
            font-weight: bold;
            color: #333;
        }
        
        .grade-value.empty {
            color: #ccc;
        }
        
        .summary-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        
        .summary-item {
            text-align: center;
        }
        
        .summary-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        
        .summary-value {
            font-size: 2em;
            font-weight: bold;
        }
        
        .pl-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        
        .pl-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e9ecef;
        }
        
        .pl-label {
            font-size: 0.85em;
            color: #666;
            margin-bottom: 5px;
        }
        
        .pl-value {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
        }
        
        .pl-value.high {
            color: #28a745;
        }
        
        .pl-value.medium {
            color: #ffc107;
        }
        
        .pl-value.low {
            color: #dc3545;
        }
        
        .btn-logout {
            margin-top: 20px;
            padding: 10px 20px;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .btn-logout:hover {
            background: #5a6268;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .grades-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .pl-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Hodnocen√≠</h1>
        <div class="subtitle">T≈ô√≠da 3B - Biologie</div>
        
        <div class="login-box" id="loginBox">
            <div class="input-group">
                <label class="input-label">Zadej sv√© p≈ô√≠jmen√≠:</label>
                <input type="text" 
                       class="search-input" 
                       id="searchInput" 
                       placeholder="nap≈ô. Nov√°k"
                       autocomplete="off">
            </div>
            
            <div class="input-group">
                <label class="input-label">Zadej sv≈Øj PIN:</label>
                <input type="password" 
                       class="pin-input" 
                       id="pinInput" 
                       placeholder="‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢"
                       maxlength="4"
                       autocomplete="off">
            </div>
            
            <button class="btn-verify" id="btnVerify">Zobrazit hodnocen√≠</button>
            
            <div class="error-message" id="errorMessage">
                ‚ùå ≈†patn√© p≈ô√≠jmen√≠ nebo PIN!
            </div>
        </div>
            
            <div style="text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid #eee;">
                <a href="index.html" style="color: #667eea; text-decoration: none; font-size: 0.95em; transition: color 0.3s;">
                    ‚Üê Zpƒõt na v√Ωbƒõr t≈ô√≠dy
                </a>
            </div>
        
        
        <div class="results" id="results">
            <div class="student-name" id="studentName"></div>
            
            <div class="grade-section">
                <div class="section-title">üìù Velk√© testy (VT)</div>
                <div class="grades-grid" id="vtGrades"></div>
            </div>
            
                        <div class="grade-section">
                <div class="section-title">üî¨ Laboratorn√≠ pr√°ce (LP)</div>
                <div class="grades-grid" id="lpGrade"></div>
            </div>
            
            <div class="grade-section">
                <div class="section-title">üìÑ Mal√© testy (MT)</div>
                <div class="grades-grid" id="mtGrades"></div>
            </div>
            
            <div class="grade-section">
                <div class="section-title">üìã Praktick√© listy (PL)</div>
                <div class="pl-grid" id="plGrades"></div>
            </div>
            
            <div class="summary-box">
                <div class="summary-item">
                    <div class="summary-label">V√°≈æen√Ω pr≈Ømƒõr</div>
                    <div class="summary-value" id="weightedAvg">-</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Fin√°ln√≠ pr≈Ømƒõr</div>
                    <div class="summary-value" id="finalAvg">-</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Zn√°mka</div>
                    <div class="summary-value" id="grade">-</div>
                </div>
            </div>
            
            <button class="btn-logout" id="btnLogout">‚Üê Odhl√°sit se</button>
        </div>
    </div>
    
    <script>
        // CSV data
        const csvData = `Po≈ô. ƒç.,Jm√©no a P≈ô√≠jmen√≠,VT1,VT2,VT3,VT4,VT5,MT1,MT2,MT3,MT4,MT5,LP,"V√°≈æen√Ω
pr≈Ømƒõr","PL1
(%)","PL2
(%)","PL3
(%)","PL4
(%)","PL5
(%)","PL6
(%)","PL7
(%)","PL8
(%)","Poƒçet
PL","%
PL","Pr≈Ømƒõr
bonus≈Ø","Bonus
75%+","Celkov√Ω
bonus","Fin√°ln√≠
pr≈Ømƒõr",ZN√ÅMKA,email
1,Baxa David,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, david_baxa@student.gymberoun.cz
2,Bure≈° ≈†imon,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, simon_bures@student.gymberoun.cz
3,Cenknerov√° Eva,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, eva_cenknerova@student.gymberoun.cz
4,ƒåedro≈àov√° Tereza,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, tereza_cedronova@student.gymberoun.cz
5,Havlov√° Ivana,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,ivana_havlova@student.gymberoun.cz
6,Hujerov√° Patricie,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, patricie_hujerova@student.gymberoun.cz
7,Iraheta Carmen,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,carmen_iraheta@student.gymberoun.cz
8,Jandov√° Sofie Anna,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, sofie-anna_jandova@student.gymberoun.cz
9,Kermesov√° Anna,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, anna_kermesova@student.gymberoun.cz
10,Koza Tom√°≈°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, tomas_koza@student.gymberoun.cz
11,Lejtnarov√° Iva,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, iva_lejtnarova@student.gymberoun.cz
12,Mac√≠kov√° Anna,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, anna_macikova@student.gymberoun.cz
13,Musiol Kry≈°tof,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, krystof_musiol@student.gymberoun.cz
14,P√°nkov√° Anna,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, anna_pankova@student.gymberoun.cz
15,Peroutka V√≠t,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, vit_peroutka@student.gymberoun.cz
16,Re≈æ≈à√°kov√° Lucie,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,lucie_reznakova@student.gymberoun.cz
17,≈òep√≠k Ond≈ôej,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, ondrej_repik@student.gymberoun.cz
18,≈ò√≠hov√° Adriana,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,adriana_rihova@student.gymberoun.cz
19,Smrƒçinov√° Tereza,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, tereza_smrcinova@student.gymberoun.cz
20,Strejƒçkov√° Nela,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, nela_strejckova@student.gymberoun.cz
21,Suchop√°rov√° Ad√©la,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, adela_suchoparova@student.gymberoun.cz
22,Tarant Tom√°≈°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, tomas_tarant@student.gymberoun.cz
23,Tauferov√° Nat√°lie,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, natalie_tauferova@student.gymberoun.cz
24,Tuƒçek Matƒõj,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, matej_tucek@student.gymberoun.cz
25,Vasserbauer Katrin,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, katrin_vasserbauer@student.gymberoun.cz
26,Veƒçern√≠kov√° Tereza,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, tereza_vecernikova@student.gymberoun.cz
27,Vesel√° Karol√≠na,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, karolina_vesela@student.gymberoun.cz
28,Vyskoƒçil V√°clav,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, vaclav_vyskocil@student.gymberoun.cz
29,Z√≠tkov√° Barbora,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,, barbora_zitkova@student.gymberoun.cz
30,Ivan Hynek,1,,,,,,4,,,,,"2,20",,,,80,,,,,1,13%,"0,00","0,00","0,00","2,20",2,skola32@gmail.com
,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
,,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
37,LEGENDA A PRAVIDLA:,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
38,Pokud student neudƒõlal ≈æ√°dn√© PL:,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
39,‚Ä¢ Celkov√Ω bonus = 0,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
40,‚Ä¢ Fin√°ln√≠ pr≈Ømƒõr = V√°≈æen√Ω pr≈Ømƒõr (bez bonus≈Ø),,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
41,‚Ä¢ Zn√°mka se norm√°lnƒõ vypoƒç√≠t√°,,,,,,,,,,,,,,,,,,,,,,,,,,,,
47,Bonusy z praktick√Ωch list≈Ø (8 PL):,,,,,,,,,,,,,,,,,,,,,,,,,,,,
48,‚Ä¢ 90-100%: -0.25,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,‚Ä¢ 75-89%: -0.15,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,‚Ä¢ 60-74%: -0.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,a≈æ od t≈ôet√≠ho odevzdan√©ho a hodnocen√©ho,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,Bonus za konzistenci:,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,‚Ä¢ Odevzd√°≈° 75% PL ‚Üí extra -0.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,`;
        
        // PIN mapov√°n√≠ (p≈ô√≠jmen√≠ lowercase ‚Üí PIN)
        const pinsMapping = {"baxa david": "2824", "bure≈° ≈°imon": "1409", "cenknerov√° eva": "5506", "ƒçedro≈àov√° tereza": "5012", "havlov√° ivana": "4657", "hujerov√° patricie": "3286", "iraheta carmen": "2679", "jandov√° sofie anna": "9935", "kermesov√° anna": "2424", "koza tom√°≈°": "7912", "lejtnarov√° iva": "1520", "mac√≠kov√° anna": "1488", "musiol kry≈°tof": "2535", "p√°nkov√° anna": "4582", "peroutka v√≠t": "4811", "re≈æ≈à√°kov√° lucie": "9279", "≈ôep√≠k ond≈ôej": "1434", "≈ô√≠hov√° adriana": "4257", "smrƒçinov√° tereza": "9928", "strejƒçkov√° nela": "7873", "suchop√°rov√° ad√©la": "4611", "tarant tom√°≈°": "8359", "tauferov√° nat√°lie": "5557", "tuƒçek matƒõj": "1106", "vasserbauer katrin": "3615", "veƒçern√≠kov√° tereza": "7924", "vesel√° karol√≠na": "6574", "vyskoƒçil v√°clav": "5552", "z√≠tkov√° barbora": "3547"};
        
        // Parsov√°n√≠ CSV
        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));
            
            const students = [];
            for (let i = 1; i < lines.length; i++) {
                const values = parseCSVLine(lines[i]);
                if (values.length > 1 && values[1].trim()) {
                    const student = {};
                    headers.forEach((header, index) => {
                        student[header] = values[index] ? values[index].trim() : '';
                    });
                    students.push(student);
                }
            }
            return students;
        }
        
        function parseCSVLine(line) {
            const result = [];
            let current = '';
            let inQuotes = false;
            
            for (let char of line) {
                if (char === '"') {
                    inQuotes = !inQuotes;
                } else if (char === ',' && !inQuotes) {
                    result.push(current);
                    current = '';
                } else {
                    current += char;
                }
            }
            result.push(current);
            return result;
        }
        
        const students = parseCSV(csvData);
        
        // P≈ôihla≈°ov√°n√≠
        const searchInput = document.getElementById('searchInput');
        const pinInput = document.getElementById('pinInput');
        const btnVerify = document.getElementById('btnVerify');
        const errorMessage = document.getElementById('errorMessage');
        const loginBox = document.getElementById('loginBox');
        const results = document.getElementById('results');
        const btnLogout = document.getElementById('btnLogout');
        
        // Enter key handler
        pinInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                btnVerify.click();
            }
        });
        
        btnVerify.addEventListener('click', function() {
            const prijmeni = searchInput.value.trim().toLowerCase();
            const pin = pinInput.value.trim();
            
            errorMessage.classList.remove('show');
            
            if (!prijmeni || !pin) {
                showError();
                return;
            }
            
            // Hled√°n√≠ studenta podle p≈ô√≠jmen√≠
            const found = students.find(s => {
                const name = (s['Jm√©no a P≈ô√≠jmen√≠'] || '').toLowerCase();
                return name.includes(prijmeni);
            });
            
            if (!found) {
                showError();
                return;
            }
            
            // Ovƒõ≈ôen√≠ PINu
            const correctPin = pinsMapping[found['Jm√©no a P≈ô√≠jmen√≠'].toLowerCase()];
            
            if (pin !== correctPin) {
                showError();
                return;
            }
            
            // PIN spr√°vn√Ω - zobraz hodnocen√≠
            displayStudent(found);
            loginBox.classList.add('hidden');
            results.classList.add('show');
        });
        
        btnLogout.addEventListener('click', function() {
            results.classList.remove('show');
            loginBox.classList.remove('hidden');
            searchInput.value = '';
            pinInput.value = '';
            errorMessage.classList.remove('show');
        });
        
        function showError() {
            errorMessage.classList.add('show');
            pinInput.value = '';
            pinInput.focus();
        }
        
        function displayStudent(student) {
            // Jm√©no studenta
            document.getElementById('studentName').textContent = student['Jm√©no a P≈ô√≠jmen√≠'];
            
            // Velk√© testy
            const vtContainer = document.getElementById('vtGrades');
            vtContainer.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const value = student[`VT${i}`];
                vtContainer.innerHTML += `
                    <div class="grade-item">
                        <div class="grade-label">VT${i}</div>
                        <div class="grade-value ${value ? '' : 'empty'}">${value || '‚Äî'}</div>
                    </div>
                `;
            }
            
            // Mal√© testy
            const mtContainer = document.getElementById('mtGrades');
            mtContainer.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const value = student[`MT${i}`];
                mtContainer.innerHTML += `
                    <div class="grade-item">
                        <div class="grade-label">MT${i}</div>
                        <div class="grade-value ${value ? '' : 'empty'}">${value || '‚Äî'}</div>
                    </div>
                `;
            }
            
            // Praktick√© listy
                        
            // Laboratorn√≠ pr√°ce
            const lpContainer = document.getElementById('lpGrade');
            lpContainer.innerHTML = '';
            const lpValue = student['LP'];
            lpContainer.innerHTML += `<div class="grade-item"><div class="grade-label">LP</div><div class="grade-value ${lpValue ? '' : 'empty'}">${lpValue || '‚Äî'}</div></div>`;
            
const plContainer = document.getElementById('plGrades');
            plContainer.innerHTML = '';
            for (let i = 1; i <= 8; i++) {
                const key = `PL${i}\n(%)`;
                const value = student[key];
                let colorClass = '';
                if (value) {
                    const numValue = parseFloat(value);
                    if (numValue >= 90) colorClass = 'high';
                    else if (numValue >= 60) colorClass = 'medium';
                    else if (numValue > 0) colorClass = 'low';
                }
                plContainer.innerHTML += `
                    <div class="pl-item">
                        <div class="pl-label">PL${i}</div>
                        <div class="pl-value ${colorClass}">${value ? value + '%' : '‚Äî'}</div>
                    </div>
                `;
            }
            
            // Souhrn
            document.getElementById('weightedAvg').textContent = student['V√°≈æen√Ω\npr≈Ømƒõr'] || '‚Äî';
            document.getElementById('finalAvg').textContent = student['Fin√°ln√≠\npr≈Ømƒõr'] || '‚Äî';
            document.getElementById('grade').textContent = student['ZN√ÅMKA'] || '‚Äî';
        }
    </script>
</body>
</html>