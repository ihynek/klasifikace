<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hodnocen√≠ - T≈ô√≠da 6SA (Sexta)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
        }
        h1 { color: #667eea; text-align: center; margin-bottom: 10px; font-size: 2.5em; }
        .subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 1.1em; }
        .login-box { max-width: 400px; margin: 0 auto; }
        .login-box.hidden { display: none; }
        .input-group { margin-bottom: 20px; }
        .input-label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
        .search-input, .pin-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 10px;
            transition: all 0.3s;
        }
        .search-input:focus, .pin-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .pin-input { letter-spacing: 5px; text-align: center; font-weight: bold; }
        .btn-verify {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-verify:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4); }
        .error-message {
            color: #dc3545;
            text-align: center;
            margin-top: 15px;
            font-weight: 600;
            display: none;
        }
        .error-message.show { display: block; animation: shake 0.5s; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        .results { display: none; }
        .results.show { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .student-name { font-size: 1.8em; color: #333; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 3px solid #667eea; }
        .grade-section { margin-bottom: 25px; }
        .section-title { font-size: 1.3em; color: #667eea; margin-bottom: 12px; font-weight: 600; }
        .grades-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 12px; }
        .grade-item { background: #f8f9fa; padding: 12px; border-radius: 8px; text-align: center; border: 2px solid #e9ecef; }
        .grade-label { font-size: 0.9em; color: #666; margin-bottom: 5px; }
        .grade-value { font-size: 1.4em; font-weight: bold; color: #333; }
        .grade-value.empty { color: #ccc; }
        .summary-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        .summary-item { text-align: center; }
        .summary-label { font-size: 0.9em; opacity: 0.9; margin-bottom: 8px; }
        .summary-value { font-size: 2em; font-weight: bold; }
        .pl-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .pl-item { background: #f8f9fa; padding: 10px; border-radius: 8px; text-align: center; border: 2px solid #e9ecef; }
        .pl-label { font-size: 0.85em; color: #666; margin-bottom: 5px; }
        .pl-value { font-size: 1.2em; font-weight: bold; color: #333; }
        .pl-value.high { color: #28a745; }
        .pl-value.medium { color: #ffc107; }
        .pl-value.low { color: #dc3545; }
        .btn-logout { margin-top: 20px; padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; }
        .btn-logout:hover { background: #5a6268; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Hodnocen√≠</h1>
        <div class="subtitle">T≈ô√≠da 6SA (Sexta) - Biologie</div>
        
        <div class="login-box" id="loginBox">
            <div class="input-group">
                <label class="input-label">Zadej sv√© p≈ô√≠jmen√≠:</label>
                <input type="text" class="search-input" id="searchInput" placeholder="nap≈ô. Nov√°k" autocomplete="off">
            </div>
            <div class="input-group">
                <label class="input-label">Zadej sv≈Øj PIN:</label>
                <input type="password" class="pin-input" id="pinInput" placeholder="‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢" maxlength="4" autocomplete="off">
            </div>
            <button class="btn-verify" id="btnVerify">Zobrazit hodnocen√≠</button>
            <div class="error-message" id="errorMessage">‚ùå ≈†patn√© p≈ô√≠jmen√≠ nebo PIN!</div>
        </div>
        
        <div class="results" id="results">
            <div class="student-name" id="studentName"></div>
            <div class="grade-section">
                <div class="section-title">üìù Velk√© testy (VT)</div>
                <div class="grades-grid" id="vtGrades"></div>
            </div>
            <div class="grade-section">
                <div class="section-title">üìÑ Mal√© testy (MT)</div>
                <div class="grades-grid" id="mtGrades"></div>
            </div>
            <div class="grade-section">
                <div class="section-title">üìã Praktick√© listy (PL)</div>
                <div class="pl-grid" id="plGrades"></div>
            </div>
            <div class="summary-box">
                <div class="summary-item">
                    <div class="summary-label">V√°≈æen√Ω pr≈Ømƒõr</div>
                    <div class="summary-value" id="weightedAvg">-</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Fin√°ln√≠ pr≈Ømƒõr</div>
                    <div class="summary-value" id="finalAvg">-</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Zn√°mka</div>
                    <div class="summary-value" id="grade">-</div>
                </div>
            </div>
            <button class="btn-logout" id="btnLogout">‚Üê Odhl√°sit se</button>
        </div>
    </div>
    
    <script>
        const csvData = `Po≈ô. ƒç.,Jm√©no P≈ô√≠jmen√≠,VT1,VT2,VT3,VT4,VT5,MT1,MT2,MT3,MT4,MT5,LP,"V√°≈æen√Ω
pr≈Ømƒõr","PL1
(%)","PL2
(%)","PL3
(%)","PL4
(%)","PL5
(%)","PL6
(%)","PL7
(%)","PL8
(%)","Poƒçet
PL","%
PL","Pr≈Ømƒõr
bonus≈Ø","Bonus
75%+","Celkov√Ω
bonus","Fin√°ln√≠
pr≈Ømƒõr",ZN√ÅMKA,Email
1,Ivana Denkov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,ivana_denkova@student.gymberoun.cz
2,Jakub Dolej≈°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,jakub_dolejs@student.gymberoun.cz
3,Kry≈°tof Dole≈æal,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,krystof_dolezal@student.gymberoun.cz
4,Barbora Gezov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,barbora_gezova@student.gymberoun.cz
5,Ji≈ô√≠ Greg≈Ørek,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,jiri_gregurek@student.gymberoun.cz
6,Zuzana Hamern√≠kov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,zuzana_hamernikova@student.gymberoun.cz
7,Ji≈ô√≠ Hejna,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,jiri_hejna@student.gymberoun.cz
8,≈†tƒõp√°n K√°≈°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,stepan_kas@student.gymberoun.cz
9,Anna Kollerov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,anna_kollerova@student.gymberoun.cz
10,Beata Kubalov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,beata_kubalova@student.gymberoun.cz
11,Jolana Kubrychtov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,jolana_kubrychtova@student.gymberoun.cz
12,Ale≈° M√°tl,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,ales_matl@student.gymberoun.cz
13,Emma Mulaƒçov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,emma_mulacova@student.gymberoun.cz
14,Teodor Rada,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,teodor_rada@student.gymberoun.cz
15,Stella Roztoƒçilov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,stella_roztocilova@student.gymberoun.cz
16,Krist√Ωna R≈Ø≈æiƒçkov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,kristyna_ruzickova@student.gymberoun.cz
17,Petr Slim√°ƒçek,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,petr_slimacek@student.gymberoun.cz
18,Ladislav ≈§oupal√≠k,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,ladislav_toupalik@student.gymberoun.cz
19,Veronika Velebov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,veronika_velebova@student.gymberoun.cz
20,Kry≈°tof ≈Ωolko,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,krystof_zolko@student.gymberoun.cz
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
37,LEGENDA A PRAVIDLA:,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
38,Pokud student neudƒõlal ≈æ√°dn√© PL:,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
39,‚Ä¢ Celkov√Ω bonus = 0,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
40,‚Ä¢ Fin√°ln√≠ pr≈Ømƒõr = V√°≈æen√Ω pr≈Ømƒõr (bez bonus≈Ø),,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
41,‚Ä¢ Zn√°mka se norm√°lnƒõ vypoƒç√≠t√°,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
47,Bonusy z praktick√Ωch list≈Ø (8 PL):,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
48,‚Ä¢ 90-100%: -0.25,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
,‚Ä¢ 75-89%: -0.15,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
,‚Ä¢ 60-74%: -0.1,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
,a≈æ od t≈ôet√≠ho odevzdan√©ho a hodnocen√©ho,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
,Bonus za konzistenci:,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
,‚Ä¢ Odevzd√°≈° 75% PL ‚Üí extra -0.1,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,`;
        const pinsMapping = {"ivana denkov√°": "1747", "jakub dolej≈°": "4333", "kry≈°tof dole≈æal": "1497", "barbora gezov√°": "3340", "ji≈ô√≠ greg≈Ørek": "5369", "zuzana hamern√≠kov√°": "1187", "ji≈ô√≠ hejna": "8208", "≈°tƒõp√°n k√°≈°": "3739", "anna kollerov√°": "1265", "beata kubalov√°": "8186", "jolana kubrychtov√°": "5556", "ale≈° m√°tl": "8199", "emma mulaƒçov√°": "8533", "teodor rada": "4798", "stella roztoƒçilov√°": "4159", "krist√Ωna r≈Ø≈æiƒçkov√°": "2983", "petr slim√°ƒçek": "5915", "ladislav ≈•oupal√≠k": "7345", "veronika velebov√°": "6749", "kry≈°tof ≈æolko": "2653"};
        
        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));
            const students = [];
            for (let i = 1; i < lines.length; i++) {
                const values = parseCSVLine(lines[i]);
                if (values.length > 1) {
                    const student = {};
                    headers.forEach((header, index) => {
                        student[header] = values[index] ? values[index].trim() : '';
                    });
                    students.push(student);
                }
            }
            return students;
        }
        
        function parseCSVLine(line) {
            const result = [];
            let current = '';
            let inQuotes = false;
            for (let char of line) {
                if (char === '"') {
                    inQuotes = !inQuotes;
                } else if (char === ',' && !inQuotes) {
                    result.push(current);
                    current = '';
                } else {
                    current += char;
                }
            }
            result.push(current);
            return result;
        }
        
        const students = parseCSV(csvData);
        const searchInput = document.getElementById('searchInput');
        const pinInput = document.getElementById('pinInput');
        const btnVerify = document.getElementById('btnVerify');
        const errorMessage = document.getElementById('errorMessage');
        const loginBox = document.getElementById('loginBox');
        const results = document.getElementById('results');
        const btnLogout = document.getElementById('btnLogout');
        
        pinInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') btnVerify.click();
        });
        
        btnVerify.addEventListener('click', function() {
            const prijmeni = searchInput.value.trim().toLowerCase();
            const pin = pinInput.value.trim();
            errorMessage.classList.remove('show');
            
            if (!prijmeni || !pin) {
                showError();
                return;
            }
            
            const found = students.find(s => {
                const nameFields = ['Jm√©no a P≈ô√≠jmen√≠', 'P≈ô√≠jmen√≠', 'Jm√©no P≈ô√≠jmen√≠'];
                for (let field of nameFields) {
                    const name = (s[field] || '').toLowerCase();
                    if (name.includes(prijmeni)) return true;
                }
                return false;
            });
            
            if (!found) {
                showError();
                return;
            }
            
            let fullName = '';
            const nameFields = ['Jm√©no a P≈ô√≠jmen√≠', 'P≈ô√≠jmen√≠', 'Jm√©no P≈ô√≠jmen√≠'];
            for (let field of nameFields) {
                if (found[field]) {
                    fullName = found[field];
                    break;
                }
            }
            
            const correctPin = pinsMapping[fullName.toLowerCase()];
            if (pin !== correctPin) {
                showError();
                return;
            }
            
            displayStudent(found, fullName);
            loginBox.classList.add('hidden');
            results.classList.add('show');
        });
        
        btnLogout.addEventListener('click', function() {
            results.classList.remove('show');
            loginBox.classList.remove('hidden');
            searchInput.value = '';
            pinInput.value = '';
            errorMessage.classList.remove('show');
        });
        
        function showError() {
            errorMessage.classList.add('show');
            pinInput.value = '';
            pinInput.focus();
        }
        
        function displayStudent(student, fullName) {
            document.getElementById('studentName').textContent = fullName;
            
            const vtContainer = document.getElementById('vtGrades');
            vtContainer.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const value = student[`VT${i}`];
                vtContainer.innerHTML += `<div class="grade-item"><div class="grade-label">VT${i}</div><div class="grade-value ${value ? '' : 'empty'}">${value || '‚Äî'}</div></div>`;
            }
            
            const mtContainer = document.getElementById('mtGrades');
            mtContainer.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const value = student[`MT${i}`];
                mtContainer.innerHTML += `<div class="grade-item"><div class="grade-label">MT${i}</div><div class="grade-value ${value ? '' : 'empty'}">${value || '‚Äî'}</div></div>`;
            }
            
            const plContainer = document.getElementById('plGrades');
            plContainer.innerHTML = '';
            for (let i = 1; i <= 8; i++) {
                let value = student[`PL${i}\n(%)`] || student[`PL${i} (%)`] || student[`PL${i}`];
                let colorClass = '';
                if (value) {
                    const numValue = parseFloat(value);
                    if (numValue >= 90) colorClass = 'high';
                    else if (numValue >= 60) colorClass = 'medium';
                    else if (numValue > 0) colorClass = 'low';
                }
                plContainer.innerHTML += `<div class="pl-item"><div class="pl-label">PL${i}</div><div class="pl-value ${colorClass}">${value ? value + '%' : '‚Äî'}</div></div>`;
            }
            
            document.getElementById('weightedAvg').textContent = student['V√°≈æen√Ω\npr≈Ømƒõr'] || student['V√°≈æen√Ω pr≈Ømƒõr'] || '‚Äî';
            document.getElementById('finalAvg').textContent = student['Fin√°ln√≠\npr≈Ømƒõr'] || student['Fin√°ln√≠ pr≈Ømƒõr'] || '‚Äî';
            document.getElementById('grade').textContent = student['ZN√ÅMKA'] || student['Zn√°mka'] || '‚Äî';
        }
    </script>
</body>
</html>