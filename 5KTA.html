<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hodnocen√≠ - T≈ô√≠da 5KTA (Kvinta)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
        }
        h1 { color: #667eea; text-align: center; margin-bottom: 10px; font-size: 2.5em; }
        .subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 1.1em; }
        .login-box { max-width: 400px; margin: 0 auto; }
        .login-box.hidden { display: none; }
        .input-group { margin-bottom: 20px; }
        .input-label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
        .search-input, .pin-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 10px;
            transition: all 0.3s;
        }
        .search-input:focus, .pin-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .pin-input { letter-spacing: 5px; text-align: center; font-weight: bold; }
        .btn-verify {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-verify:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4); }
        .error-message {
            color: #dc3545;
            text-align: center;
            margin-top: 15px;
            font-weight: 600;
            display: none;
        }
        .error-message.show { display: block; animation: shake 0.5s; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        .results { display: none; }
        .results.show { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .student-name { font-size: 1.8em; color: #333; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 3px solid #667eea; }
        .grade-section { margin-bottom: 25px; }
        .section-title { font-size: 1.3em; color: #667eea; margin-bottom: 12px; font-weight: 600; }
        .grades-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 12px; }
        .grade-item { background: #f8f9fa; padding: 12px; border-radius: 8px; text-align: center; border: 2px solid #e9ecef; }
        .grade-label { font-size: 0.9em; color: #666; margin-bottom: 5px; }
        .grade-value { font-size: 1.4em; font-weight: bold; color: #333; }
        .grade-value.empty { color: #ccc; }
        .summary-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        .summary-item { text-align: center; }
        .summary-label { font-size: 0.9em; opacity: 0.9; margin-bottom: 8px; }
        .summary-value { font-size: 2em; font-weight: bold; }
        .pl-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .pl-item { background: #f8f9fa; padding: 10px; border-radius: 8px; text-align: center; border: 2px solid #e9ecef; }
        .pl-label { font-size: 0.85em; color: #666; margin-bottom: 5px; }
        .pl-value { font-size: 1.2em; font-weight: bold; color: #333; }
        .pl-value.high { color: #28a745; }
        .pl-value.medium { color: #ffc107; }
        .pl-value.low { color: #dc3545; }
        .btn-logout { margin-top: 20px; padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; }
        .btn-logout:hover { background: #5a6268; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Hodnocen√≠</h1>
        <div class="subtitle">T≈ô√≠da 5KTA (Kvinta) - Biologie</div>
        
        <div class="login-box" id="loginBox">
            <div class="input-group">
                <label class="input-label">Zadej sv√© p≈ô√≠jmen√≠:</label>
                <input type="text" class="search-input" id="searchInput" placeholder="nap≈ô. Nov√°k" autocomplete="off">
            </div>
            <div class="input-group">
                <label class="input-label">Zadej sv≈Øj PIN:</label>
                <input type="password" class="pin-input" id="pinInput" placeholder="‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢" maxlength="4" autocomplete="off">
            </div>
            <button class="btn-verify" id="btnVerify">Zobrazit hodnocen√≠</button>
            <div class="error-message" id="errorMessage">‚ùå ≈†patn√© p≈ô√≠jmen√≠ nebo PIN!</div>
        </div>
        
        <div class="results" id="results">
            <div class="student-name" id="studentName"></div>
            <div class="grade-section">
                <div class="section-title">üìù Velk√© testy (VT)</div>
                <div class="grades-grid" id="vtGrades"></div>
            </div>
                        <div class="grade-section">
                <div class="section-title">üî¨ Laboratorn√≠ pr√°ce (LP)</div>
                <div class="grades-grid" id="lpGrade"></div>
            </div>
            
            <div class="grade-section">
                <div class="section-title">üìÑ Mal√© testy (MT)</div>
                <div class="grades-grid" id="mtGrades"></div>
            </div>
            <div class="grade-section">
                <div class="section-title">üìã Praktick√© listy (PL)</div>
                <div class="pl-grid" id="plGrades"></div>
            </div>
            <div class="summary-box">
                <div class="summary-item">
                    <div class="summary-label">V√°≈æen√Ω pr≈Ømƒõr</div>
                    <div class="summary-value" id="weightedAvg">-</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Fin√°ln√≠ pr≈Ømƒõr</div>
                    <div class="summary-value" id="finalAvg">-</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Zn√°mka</div>
                    <div class="summary-value" id="grade">-</div>
                </div>
            </div>
            <button class="btn-logout" id="btnLogout">‚Üê Odhl√°sit se</button>
        </div>
    </div>
    
    <script>
        const csvData = `Po≈ô. ƒç.,P≈ô√≠jmen√≠,VT1,VT2,VT3,VT4,VT5,MT1,MT2,MT3,MT4,MT5,LP,"V√°≈æen√Ω
pr≈Ømƒõr","PL1
(%)","PL2
(%)","PL3
(%)","PL4
(%)","PL5
(%)","PL6
(%)","PL7
(%)","PL8
(%)","Poƒçet
PL","%
PL","Pr≈Ømƒõr
bonus≈Ø","Bonus
75%+","Celkov√Ω
bonus","Fin√°ln√≠
pr≈Ømƒõr",ZN√ÅMKA,email
1,Julie Andielov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,julie_andielova@student.gymberoun.cz
2,Jan Bartek,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,jan_bartek@student.gymberoun.cz
3,Ond≈ôej Bielƒçik,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,ondrej_bielcik@student.gymberoun.cz
4,Barbora Boh√°tkov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,barbora_bohatkova@student.gymberoun.cz
5,Aleksander Bo≈ôil,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,aleksander_boril@student.gymberoun.cz
6,Kate≈ôina Brodeck√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,katerina_brodecka@student.gymberoun.cz
7,Ol√≠vie Janu≈°kov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,olivie_januskova@student.gymberoun.cz
8,Albert Jer√°nek,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,albert_jeranek@student.gymberoun.cz
9,Tobi√°≈° Kaplan,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,tobias_kaplan@student.gymberoun.cz
10,Karol√≠na Keprtov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,karolina_keprtova@student.gymberoun.cz
11,J√°chym Kolman,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,jachym_kolman@student.gymberoun.cz
12,Luk√°≈° Konvalinka,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,lukas_konvalinka@student.gymberoun.cz
13,Jakub M√°ca,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,jakub_maca@student.gymberoun.cz
14,Barbora Mesz√°ro≈°ov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,barbora_meszarosova@student.gymberoun.cz
15,Jarmila Mutlov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,jarmila_mutlova@student.gymberoun.cz
16,Michal Polovinƒç√°k,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,michal_polovincak@student.gymberoun.cz
17,Marie Povoln√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,marie_povolna@student.gymberoun.cz
18,Jan R√∫ta,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,jan_ruta@student.gymberoun.cz
19,Dominik Svato≈°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,dominik_svatos@student.gymberoun.cz
20,Kry≈°tof Svoboda,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,krystof_svoboda@student.gymberoun.cz
21,Ad√©la Silhava,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,adela_silhava@student.gymberoun.cz
22,V√°clav ≈†op√≠k,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,vaclav_sopik@student.gymberoun.cz
23,Luk√°≈° T√≥th,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,lukas_toth@student.gymberoun.cz
24,Daniela Turkov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,daniela_turkova@student.gymberoun.cz
25,Barbora Va≈àkov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,barbora_vankova@student.gymberoun.cz
26,≈†tƒõp√°nka Vold√°nov√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,stepanka_voldanova@student.gymberoun.cz
27,Anna Vrbsk√°,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,anna_vrbska@student.gymberoun.cz
28,Robert Zoch,,,,,,,,,,,,,,,,,,,,,0,0%,"0,00","0,00","0,00",,,robert_zoch@student.gymberoun.cz
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
37,LEGENDA A PRAVIDLA:,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
38,Pokud student neudƒõlal ≈æ√°dn√© PL:,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
39,‚Ä¢ Celkov√Ω bonus = 0,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
40,‚Ä¢ Fin√°ln√≠ pr≈Ømƒõr = V√°≈æen√Ω pr≈Ømƒõr (bez bonus≈Ø),,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
41,‚Ä¢ Zn√°mka se norm√°lnƒõ vypoƒç√≠t√°,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
47,Bonusy z praktick√Ωch list≈Ø (8 PL):,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
48,‚Ä¢ 90-100%: -0.25,,,,,,,,,,,,,,,,,,,,,0,0,0,0,0,,,
,‚Ä¢ 75-89%: -0.15,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,‚Ä¢ 60-74%: -0.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,a≈æ od t≈ôet√≠ho odevzdan√©ho a hodnocen√©ho,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,Bonus za konzistenci:,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,‚Ä¢ Odevzd√°≈° 75% PL ‚Üí extra -0.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,`;
        const pinsMapping = {"julie andielov√°": "3386", "jan bartek": "8528", "ond≈ôej bielƒçik": "8453", "barbora boh√°tkov√°": "3863", "aleksander bo≈ôil": "7439", "kate≈ôina brodeck√°": "6730", "ol√≠vie janu≈°kov√°": "8102", "albert jer√°nek": "9304", "tobi√°≈° kaplan": "2801", "karol√≠na keprtov√°": "9731", "j√°chym kolman": "2987", "luk√°≈° konvalinka": "2313", "jakub m√°ca": "8470", "barbora mesz√°ro≈°ov√°": "5315", "jarmila mutlov√°": "1784", "michal polovinƒç√°k": "4350", "marie povoln√°": "6494", "jan r√∫ta": "4763", "dominik svato≈°": "6069", "kry≈°tof svoboda": "4340", "ad√©la silhava": "3923", "v√°clav ≈°op√≠k": "3307", "luk√°≈° t√≥th": "4089", "daniela turkov√°": "6685", "barbora va≈àkov√°": "7063", "≈°tƒõp√°nka vold√°nov√°": "7712", "anna vrbsk√°": "4454", "robert zoch": "7603"};
        
        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));
            const students = [];
            for (let i = 1; i < lines.length; i++) {
                const values = parseCSVLine(lines[i]);
                if (values.length > 1) {
                    const student = {};
                    headers.forEach((header, index) => {
                        student[header] = values[index] ? values[index].trim() : '';
                    });
                    students.push(student);
                }
            }
            return students;
        }
        
        function parseCSVLine(line) {
            const result = [];
            let current = '';
            let inQuotes = false;
            for (let char of line) {
                if (char === '"') {
                    inQuotes = !inQuotes;
                } else if (char === ',' && !inQuotes) {
                    result.push(current);
                    current = '';
                } else {
                    current += char;
                }
            }
            result.push(current);
            return result;
        }
        
        const students = parseCSV(csvData);
        const searchInput = document.getElementById('searchInput');
        const pinInput = document.getElementById('pinInput');
        const btnVerify = document.getElementById('btnVerify');
        const errorMessage = document.getElementById('errorMessage');
        const loginBox = document.getElementById('loginBox');
        const results = document.getElementById('results');
        const btnLogout = document.getElementById('btnLogout');
        
        pinInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') btnVerify.click();
        });
        
        btnVerify.addEventListener('click', function() {
            const prijmeni = searchInput.value.trim().toLowerCase();
            const pin = pinInput.value.trim();
            errorMessage.classList.remove('show');
            
            if (!prijmeni || !pin) {
                showError();
                return;
            }
            
            const found = students.find(s => {
                const nameFields = ['Jm√©no a P≈ô√≠jmen√≠', 'P≈ô√≠jmen√≠', 'Jm√©no P≈ô√≠jmen√≠'];
                for (let field of nameFields) {
                    const name = (s[field] || '').toLowerCase();
                    if (name.includes(prijmeni)) return true;
                }
                return false;
            });
            
            if (!found) {
                showError();
                return;
            }
            
            let fullName = '';
            const nameFields = ['Jm√©no a P≈ô√≠jmen√≠', 'P≈ô√≠jmen√≠', 'Jm√©no P≈ô√≠jmen√≠'];
            for (let field of nameFields) {
                if (found[field]) {
                    fullName = found[field];
                    break;
                }
            }
            
            const correctPin = pinsMapping[fullName.toLowerCase()];
            if (pin !== correctPin) {
                showError();
                return;
            }
            
            displayStudent(found, fullName);
            loginBox.classList.add('hidden');
            results.classList.add('show');
        });
        
        btnLogout.addEventListener('click', function() {
            results.classList.remove('show');
            loginBox.classList.remove('hidden');
            searchInput.value = '';
            pinInput.value = '';
            errorMessage.classList.remove('show');
        });
        
        function showError() {
            errorMessage.classList.add('show');
            pinInput.value = '';
            pinInput.focus();
        }
        
        function displayStudent(student, fullName) {
            document.getElementById('studentName').textContent = fullName;
            
            const vtContainer = document.getElementById('vtGrades');
            vtContainer.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const value = student[`VT${i}`];
                vtContainer.innerHTML += `<div class="grade-item"><div class="grade-label">VT${i}</div><div class="grade-value ${value ? '' : 'empty'}">${value || '‚Äî'}</div></div>`;
            }
            
            const mtContainer = document.getElementById('mtGrades');
            mtContainer.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const value = student[`MT${i}`];
                mtContainer.innerHTML += `<div class="grade-item"><div class="grade-label">MT${i}</div><div class="grade-value ${value ? '' : 'empty'}">${value || '‚Äî'}</div></div>`;
            }
            
                        
            // Laboratorn√≠ pr√°ce
            const lpContainer = document.getElementById('lpGrade');
            lpContainer.innerHTML = '';
            const lpValue = student['LP'];
            lpContainer.innerHTML += `<div class="grade-item"><div class="grade-label">LP</div><div class="grade-value ${lpValue ? '' : 'empty'}">${lpValue || '‚Äî'}</div></div>`;
            
const plContainer = document.getElementById('plGrades');
            plContainer.innerHTML = '';
            for (let i = 1; i <= 8; i++) {
                let value = student[`PL${i}\n(%)`] || student[`PL${i} (%)`] || student[`PL${i}`];
                let colorClass = '';
                if (value) {
                    const numValue = parseFloat(value);
                    if (numValue >= 90) colorClass = 'high';
                    else if (numValue >= 60) colorClass = 'medium';
                    else if (numValue > 0) colorClass = 'low';
                }
                plContainer.innerHTML += `<div class="pl-item"><div class="pl-label">PL${i}</div><div class="pl-value ${colorClass}">${value ? value + '%' : '‚Äî'}</div></div>`;
            }
            
            document.getElementById('weightedAvg').textContent = student['V√°≈æen√Ω\npr≈Ømƒõr'] || student['V√°≈æen√Ω pr≈Ømƒõr'] || '‚Äî';
            document.getElementById('finalAvg').textContent = student['Fin√°ln√≠\npr≈Ømƒõr'] || student['Fin√°ln√≠ pr≈Ømƒõr'] || '‚Äî';
            document.getElementById('grade').textContent = student['ZN√ÅMKA'] || student['Zn√°mka'] || '‚Äî';
        }
    </script>
</body>
</html>